# 🔐 ECDSA


⚡️ ECDSA는 **타원곡선 디지털 서명 알고리즘(Elliptic Curve Digital Signature Algorithm)**의 줄임말로  
  타원곡선을 이용해 비트코인을 안전하게 보낼 수 있도록 해주는 암호 방식이다.  
예를 들어 A가 B에게 비트코인 1개를 보낼 때, ECDSA 덕분에 거래 위조나 해킹이 거의 불가능하게 된다.




## 타원곡선 
<img width="420" height="393" alt="스크린샷 2025-07-30 오전 9 58 52" src="https://github.com/user-attachments/assets/85b98882-05ae-47de-9be7-faae79a2c978" />



## 📍 G - 기준점
네트워크에 참여하는 모든 사용자가 공유하는 값  
G는 타원곡선 위에 정의된 기준이 되는 점이다.
네트워크에 참여하는 모든 사용자가 공유하고 있으며,   
이 점을 기반으로 공개키와 서명 생성 등의 연산이 이루어진다.

```
G(x,y)
x = 0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798
y = 0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8
```


## 🔑  K = k * G

공개된 좌표 G값에 개인키 k값을 스칼라 덧셈함 이때 스칼라 덧셈은 점 덧셈이라는걸 함 그렇게 해서 나온 값을 공개키 K로 함 



## 유한체 

타원곡선 위의 모든 연산은 유한한 정수 범위 내에서만 이루어진다.
이때 사용하는 범위를 유한체라고 하며, 비트코인에서는 mod p를 통해 표현된다.

만약 실수(real number)로 계산하면 정밀도 문제로 인해 컴퓨터에서 다룰 수 없고, 보안도 취약해진다.
그래서 정수(유한체) 연산을 통해서만 계산하도록 설계된 것이다.


## 모듈러 값 ( p )

y² = x³ + 7 (mod p)  이 값 덕분에 점 덧셈이나 스칼라 곱셈을 아무리 많이 해도 결과 점의 좌표는 항상 유한한 범위(0에서 p−1) 안에 머무르게 됨 






## ➕ 점 덧셈
타원곡선 위에서는 일반적인 덧셈이 아닌, 곡선 위의 두 점을 이용한 특수한 덧셈 연산이 존재한다.
```1. 두 점 A, B가 서로 다를 때:
두 점을 지나는 직선을 긋는다.
```

이 직선은 곡선을 세 점에서 만난다.

세 번째 교점의 x축 대칭 위치가 A + B 결과이다.  
<img width="416" height="433" alt="스크린샷 2025-07-30 오전 10 03 47" src="https://github.com/user-attachments/assets/61485da9-6dd8-4b3e-8826-0d6702917271" />

```2. A = B (자기 자신을 더할 때):
점 A에서의 곡선의 접선을 그린다.
```

그 접선이 곡선과 만나는 또 다른 점을 찾는다.  

<img width="494" height="491" alt="스크린샷 2025-07-30 오전 10 05 48" src="https://github.com/user-attachments/assets/6249ceb2-43e8-49ee-84a7-d588233393e4" />


마찬가지로 x축 대칭을 취해 결과 점을 얻는다.



## 🔁 모듈러 값 (mod p)

```y² = x³ + 7 (mod p) ```

여기서 p는 아주 큰 소수(비트코인에서는 약 2^256 크기)를 의미한다.
이 mod p 연산 덕분에:

연산 결과가 항상 0 ~ p-1 범위 내에 있게 되고,

값이 튀지 않으며,

모든 연산이 유한한 범위 안에서 안정적으로 수행될 수 있다.



 ## ✍️ 디지털 서명 
 ECDSA는 공개키와 개인키를 이용해서 디지털 서명을 생성한다.

서명 생성: A가 거래 정보를 해시한 뒤, 개인키를 이용해 서명을 만든다.

서명 검증: B는 A의 공개키와 서명을 통해, 거래가 A로부터 온 게 맞는지 확인할 수 있다.

핵심은: 누구든 공개키로 검증은 가능하지만, 서명을 만들 수 있는 건 오직 개인키를 가진 사람뿐이라는 점이다.


 ## 🔐 이산 로그 문제
 
  타원곡선에서 공개키는 K=d×G이다.
   여기서   

G와 K는 공개되어 있지만, d (개인키)는 숨겨져 있다.
K와 𝐺를 알고 있을 때, d를 구하는 문제를
타원곡선 이산 로그 문제(ECDLP) 라고 한다.


그래서 비트코인이 해킹당하기 어려운 기술이라고 불리우는거다.
